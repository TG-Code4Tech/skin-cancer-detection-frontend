import React, { useEffect, useState } from "react";
import { IconName, IconSize } from "../../types/globalTypes";
import { IconColor } from "../../enums/globalEnums";

interface IconProps {
    name: IconName;
    size: IconSize;
    color: keyof typeof IconColor;
}

const Icon = ({ name, size, color }: IconProps) => {
    const [isDarkMode, setIsDarkMode] = useState(false);

    useEffect(() => {
        const bodyObserver = new MutationObserver(() => {
            const isDarkModeActive = document.body.hasAttribute("dark-mode");
            setIsDarkMode(isDarkModeActive);
        });

        bodyObserver.observe(document.body, {
            attributes: true,
            attributeFilter: ["dark-mode"],
        });

        setIsDarkMode(document.body.hasAttribute("dark-mode"));

        return () => bodyObserver.disconnect();
    }, []);

    const colorValue = isDarkMode
        ? IconColor[`${color}DarkMode` as keyof typeof IconColor] || IconColor[color]
        : IconColor[color];

    switch (name) {
        case "account":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M3.89998 11.4026C4.46665 10.9693 5.09998 10.6276 5.79998 10.3776C6.49998 10.1276 7.23331 10.0026 7.99998 10.0026C8.76665 10.0026 9.49998 10.1276 10.2 10.3776C10.9 10.6276 11.5333 10.9693 12.1 11.4026C12.4889 10.947 12.7916 10.4304 13.0083 9.8526C13.225 9.27483 13.3333 8.65816 13.3333 8.0026C13.3333 6.52483 12.8139 5.26649 11.775 4.2276C10.7361 3.18872 9.47776 2.66927 7.99998 2.66927C6.5222 2.66927 5.26387 3.18872 4.22498 4.2276C3.18609 5.26649 2.66665 6.52483 2.66665 8.0026C2.66665 8.65816 2.77498 9.27483 2.99165 9.8526C3.20831 10.4304 3.51109 10.947 3.89998 11.4026ZM7.99998 8.66927C7.34442 8.66927 6.79165 8.44427 6.34165 7.99427C5.89165 7.54427 5.66665 6.99149 5.66665 6.33594C5.66665 5.68038 5.89165 5.1276 6.34165 4.6776C6.79165 4.2276 7.34442 4.0026 7.99998 4.0026C8.65553 4.0026 9.20831 4.2276 9.65831 4.6776C10.1083 5.1276 10.3333 5.68038 10.3333 6.33594C10.3333 6.99149 10.1083 7.54427 9.65831 7.99427C9.20831 8.44427 8.65553 8.66927 7.99998 8.66927ZM7.99998 14.6693C7.07776 14.6693 6.21109 14.4943 5.39998 14.1443C4.58887 13.7943 3.88331 13.3193 3.28331 12.7193C2.68331 12.1193 2.20831 11.4137 1.85831 10.6026C1.50831 9.79149 1.33331 8.92483 1.33331 8.0026C1.33331 7.08038 1.50831 6.21372 1.85831 5.4026C2.20831 4.59149 2.68331 3.88594 3.28331 3.28594C3.88331 2.68594 4.58887 2.21094 5.39998 1.86094C6.21109 1.51094 7.07776 1.33594 7.99998 1.33594C8.9222 1.33594 9.78887 1.51094 10.6 1.86094C11.4111 2.21094 12.1166 2.68594 12.7166 3.28594C13.3166 3.88594 13.7916 4.59149 14.1416 5.4026C14.4916 6.21372 14.6666 7.08038 14.6666 8.0026C14.6666 8.92483 14.4916 9.79149 14.1416 10.6026C13.7916 11.4137 13.3166 12.1193 12.7166 12.7193C12.1166 13.3193 11.4111 13.7943 10.6 14.1443C9.78887 14.4943 8.9222 14.6693 7.99998 14.6693ZM7.99998 13.3359C8.58887 13.3359 9.14442 13.2498 9.66665 13.0776C10.1889 12.9054 10.6666 12.6582 11.1 12.3359C10.6666 12.0137 10.1889 11.7665 9.66665 11.5943C9.14442 11.422 8.58887 11.3359 7.99998 11.3359C7.41109 11.3359 6.85554 11.422 6.33331 11.5943C5.81109 11.7665 5.33331 12.0137 4.89998 12.3359C5.33331 12.6582 5.81109 12.9054 6.33331 13.0776C6.85554 13.2498 7.41109 13.3359 7.99998 13.3359ZM7.99998 7.33594C8.28887 7.33594 8.52776 7.24149 8.71665 7.0526C8.90553 6.86371 8.99998 6.62483 8.99998 6.33594C8.99998 6.04705 8.90553 5.80816 8.71665 5.61927C8.52776 5.43038 8.28887 5.33594 7.99998 5.33594C7.71109 5.33594 7.4722 5.43038 7.28331 5.61927C7.09442 5.80816 6.99998 6.04705 6.99998 6.33594C6.99998 6.62483 7.09442 6.86371 7.28331 7.0526C7.4722 7.24149 7.71109 7.33594 7.99998 7.33594Z" />
                </svg>
            );
        case "menu":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M2 12V10.6667H14V12H2ZM2 8.66667V7.33333H14V8.66667H2ZM2 5.33333V4H14V5.33333H2Z" />
                </svg>
            );
        case "close":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M4.26665 12.6693L3.33331 11.7359L7.06665 8.0026L3.33331 4.26927L4.26665 3.33594L7.99998 7.06927L11.7333 3.33594L12.6666 4.26927L8.93331 8.0026L12.6666 11.7359L11.7333 12.6693L7.99998 8.93594L4.26665 12.6693Z" />
                </svg>
            );
        default:
            return null;
    }
};

export default Icon;
