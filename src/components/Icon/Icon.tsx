import React, { useEffect, useState } from "react";
import { IconName, IconSize } from "../../types/globalTypes";
import { IconColor } from "../../enums/globalEnums";

interface IconProps {
    name: IconName;
    size: IconSize;
    color: keyof typeof IconColor;
}

const Icon = ({ name, size, color }: IconProps) => {
    const [isDarkMode, setIsDarkMode] = useState(false);

    useEffect(() => {
        const bodyObserver = new MutationObserver(() => {
            const isDarkModeActive = document.body.hasAttribute("dark-mode");
            setIsDarkMode(isDarkModeActive);
        });

        bodyObserver.observe(document.body, {
            attributes: true,
            attributeFilter: ["dark-mode"],
        });

        setIsDarkMode(document.body.hasAttribute("dark-mode"));

        return () => bodyObserver.disconnect();
    }, []);

    const colorValue = isDarkMode
        ? IconColor[`${color}DarkMode` as keyof typeof IconColor] || IconColor[color]
        : IconColor[color];

    switch (name) {
        case "account":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M3.89998 11.4026C4.46665 10.9693 5.09998 10.6276 5.79998 10.3776C6.49998 10.1276 7.23331 10.0026 7.99998 10.0026C8.76665 10.0026 9.49998 10.1276 10.2 10.3776C10.9 10.6276 11.5333 10.9693 12.1 11.4026C12.4889 10.947 12.7916 10.4304 13.0083 9.8526C13.225 9.27483 13.3333 8.65816 13.3333 8.0026C13.3333 6.52483 12.8139 5.26649 11.775 4.2276C10.7361 3.18872 9.47776 2.66927 7.99998 2.66927C6.5222 2.66927 5.26387 3.18872 4.22498 4.2276C3.18609 5.26649 2.66665 6.52483 2.66665 8.0026C2.66665 8.65816 2.77498 9.27483 2.99165 9.8526C3.20831 10.4304 3.51109 10.947 3.89998 11.4026ZM7.99998 8.66927C7.34442 8.66927 6.79165 8.44427 6.34165 7.99427C5.89165 7.54427 5.66665 6.99149 5.66665 6.33594C5.66665 5.68038 5.89165 5.1276 6.34165 4.6776C6.79165 4.2276 7.34442 4.0026 7.99998 4.0026C8.65553 4.0026 9.20831 4.2276 9.65831 4.6776C10.1083 5.1276 10.3333 5.68038 10.3333 6.33594C10.3333 6.99149 10.1083 7.54427 9.65831 7.99427C9.20831 8.44427 8.65553 8.66927 7.99998 8.66927ZM7.99998 14.6693C7.07776 14.6693 6.21109 14.4943 5.39998 14.1443C4.58887 13.7943 3.88331 13.3193 3.28331 12.7193C2.68331 12.1193 2.20831 11.4137 1.85831 10.6026C1.50831 9.79149 1.33331 8.92483 1.33331 8.0026C1.33331 7.08038 1.50831 6.21372 1.85831 5.4026C2.20831 4.59149 2.68331 3.88594 3.28331 3.28594C3.88331 2.68594 4.58887 2.21094 5.39998 1.86094C6.21109 1.51094 7.07776 1.33594 7.99998 1.33594C8.9222 1.33594 9.78887 1.51094 10.6 1.86094C11.4111 2.21094 12.1166 2.68594 12.7166 3.28594C13.3166 3.88594 13.7916 4.59149 14.1416 5.4026C14.4916 6.21372 14.6666 7.08038 14.6666 8.0026C14.6666 8.92483 14.4916 9.79149 14.1416 10.6026C13.7916 11.4137 13.3166 12.1193 12.7166 12.7193C12.1166 13.3193 11.4111 13.7943 10.6 14.1443C9.78887 14.4943 8.9222 14.6693 7.99998 14.6693ZM7.99998 13.3359C8.58887 13.3359 9.14442 13.2498 9.66665 13.0776C10.1889 12.9054 10.6666 12.6582 11.1 12.3359C10.6666 12.0137 10.1889 11.7665 9.66665 11.5943C9.14442 11.422 8.58887 11.3359 7.99998 11.3359C7.41109 11.3359 6.85554 11.422 6.33331 11.5943C5.81109 11.7665 5.33331 12.0137 4.89998 12.3359C5.33331 12.6582 5.81109 12.9054 6.33331 13.0776C6.85554 13.2498 7.41109 13.3359 7.99998 13.3359ZM7.99998 7.33594C8.28887 7.33594 8.52776 7.24149 8.71665 7.0526C8.90553 6.86371 8.99998 6.62483 8.99998 6.33594C8.99998 6.04705 8.90553 5.80816 8.71665 5.61927C8.52776 5.43038 8.28887 5.33594 7.99998 5.33594C7.71109 5.33594 7.4722 5.43038 7.28331 5.61927C7.09442 5.80816 6.99998 6.04705 6.99998 6.33594C6.99998 6.62483 7.09442 6.86371 7.28331 7.0526C7.4722 7.24149 7.71109 7.33594 7.99998 7.33594Z" />
                </svg>
            );
        case "menu":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M2 12V10.6667H14V12H2ZM2 8.66667V7.33333H14V8.66667H2ZM2 5.33333V4H14V5.33333H2Z" />
                </svg>
            );
        case "close":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M4.26665 12.6693L3.33331 11.7359L7.06665 8.0026L3.33331 4.26927L4.26665 3.33594L7.99998 7.06927L11.7333 3.33594L12.6666 4.26927L8.93331 8.0026L12.6666 11.7359L11.7333 12.6693L7.99998 8.93594L4.26665 12.6693Z" />
                </svg>
            );
        case "check-circle":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M7.71417 11.1157L12.4142 6.41566L11.4808 5.48232L7.71417 9.24899L5.81417 7.34899L4.88083 8.28232L7.71417 11.1157ZM8.6475 14.7157C7.72528 14.7157 6.85861 14.5407 6.0475 14.1907C5.23639 13.8407 4.53083 13.3657 3.93083 12.7657C3.33083 12.1657 2.85583 11.4601 2.50583 10.649C2.15583 9.83788 1.98083 8.97121 1.98083 8.04899C1.98083 7.12677 2.15583 6.2601 2.50583 5.44899C2.85583 4.63788 3.33083 3.93232 3.93083 3.33232C4.53083 2.73232 5.23639 2.25732 6.0475 1.90732C6.85861 1.55732 7.72528 1.38232 8.6475 1.38232C9.56972 1.38232 10.4364 1.55732 11.2475 1.90732C12.0586 2.25732 12.7642 2.73232 13.3642 3.33232C13.9642 3.93232 14.4392 4.63788 14.7892 5.44899C15.1392 6.2601 15.3142 7.12677 15.3142 8.04899C15.3142 8.97121 15.1392 9.83788 14.7892 10.649C14.4392 11.4601 13.9642 12.1657 13.3642 12.7657C12.7642 13.3657 12.0586 13.8407 11.2475 14.1907C10.4364 14.5407 9.56972 14.7157 8.6475 14.7157ZM8.6475 13.3823C10.1364 13.3823 11.3975 12.8657 12.4308 11.8323C13.4642 10.799 13.9808 9.53788 13.9808 8.04899C13.9808 6.5601 13.4642 5.29899 12.4308 4.26566C11.3975 3.23232 10.1364 2.71566 8.6475 2.71566C7.15861 2.71566 5.8975 3.23232 4.86417 4.26566C3.83083 5.29899 3.31417 6.5601 3.31417 8.04899C3.31417 9.53788 3.83083 10.799 4.86417 11.8323C5.8975 12.8657 7.15861 13.3823 8.6475 13.3823Z" />
                </svg>
            );
        case "report":
            return (
                <svg
                    width={size}
                    height={size}
                    fill={colorValue}
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M8 11.3333C8.18889 11.3333 8.34722 11.2694 8.475 11.1417C8.60278 11.0139 8.66667 10.8556 8.66667 10.6667C8.66667 10.4778 8.60278 10.3194 8.475 10.1917C8.34722 10.0639 8.18889 10 8 10C7.81111 10 7.65278 10.0639 7.525 10.1917C7.39722 10.3194 7.33333 10.4778 7.33333 10.6667C7.33333 10.8556 7.39722 11.0139 7.525 11.1417C7.65278 11.2694 7.81111 11.3333 8 11.3333ZM7.33333 8.66667H8.66667V4.66667H7.33333V8.66667ZM5.5 14L2 10.5V5.5L5.5 2H10.5L14 5.5V10.5L10.5 14H5.5ZM6.06667 12.6667H9.93333L12.6667 9.93333V6.06667L9.93333 3.33333H6.06667L3.33333 6.06667V9.93333L6.06667 12.6667Z" />
                </svg>
            );

        default:
            return null;
    }
};

export default Icon;
